# Ejercicio 2

### Para cada una de las siguientes situaciones, realice en forma iterativa los siguientes pasos:
#### (i) indique el mal olor,
#### (ii) indique el refactoring que lo corrige,
#### (iii) aplique el refactoring, mostrando el resultado final (c贸digo y/o dise帽o seg煤n corresponda).
### Si vuelve a encontrar un mal olor, retorne al paso (i).

## 2.2 Juego

```java
public class Juego {
    
    // ......
    
    public void incrementar(Jugador j) {
        j.puntuacion = j.puntuacion + 100;
    }

    public void decrementar(Jugador j) {
        j.puntuacion = j.puntuacion - 50;
    }
}

public class Jugador {

    public String nombre;
    public String apellido;
    public int puntuacion = 0;

}
```

Primer bad smell: Rompe el encapsulamiento
Soluci贸n: Encapsulate Field > Pasar a privadas todas las propiedades p煤blicas y proveer getters y setters para la utilizaci贸n al exterior. Adem谩s, modificar todas las referencias a las variables seg煤n correspondan.

```java
public class Juego {
    
    // ......
    
    public void incrementar(Jugador j) {
        j.setPuntuacion(j.getPuntuaci贸n() + 100);
    }

    public void decrementar(Jugador j) {
        j.setPuntuacion(j.getPuntuacion - 50);
    }
}

public class Jugador {

    private String nombre;
    private String apellido;
    private int puntuacion = 0;

    public String getNombre() {
        return this.nombre;
    }

    public void setNombre(String nombre) {
        this.nombre = nombre;
    }

    public String getApellido() {
        return this.apellido;
    }

    public void setApellido(String apellido) {
        this.apellido = apellido;
    }

    public int getPuntuacion() {
        return this.puntuacion;
    }

    public void setPuntuacion(int puntuacion) {
        this.puntuacion = puntuacion;
    }

}
```

Segundo bad smell: Nombres poco descriptivos
Soluci贸n: Rename Method > Los nombre de los m茅todos de la clase Juego no son del todo claros, no se aclara qu茅 se incrementa o decrementa. 

```java
public class Juego {
    
    // ......
    
    public void incrementarPuntos(Jugador j) {
        j.setPuntuacion(j.getPuntuaci贸n() + 100);
    }

    public void decrementarPuntos(Jugador j) {
        j.setPuntuacion(j.getPuntuacion - 50);
    }
}

public class Jugador {

    private String nombre;
    private String apellido;
    private int puntuacion = 0;

    public String getNombre() {
        return this.nombre;
    }

    public void setNombre(String nombre) {
        this.nombre = nombre;
    }

    public String getApellido() {
        return this.apellido;
    }

    public void setApellido(String apellido) {
        this.apellido = apellido;
    }

    public int getPuntuacion() {
        return this.puntuacion;
    }

    public void setPuntuacion(int puntuacion) {
        this.puntuacion = puntuacion;
    }

}
```

Tercer bad smell: No se proveen constructores (por lo menos para la clase Juego)
Soluci贸n: Proveer constructores 

```java
public class Juego {
    
    // ......
    
    public void incrementarPuntos(Jugador j) {
        j.setPuntuacion(j.getPuntuaci贸n() + 100);
    }

    public void decrementarPuntos(Jugador j) {
        j.setPuntuacion(j.getPuntuacion() - 50);
    }
}

public class Jugador {

    private String nombre;
    private String apellido;
    private int puntuacion = 0;

    public Jugador(String nombre, String apellido) {
        this.nombre = nombre;
        this.apellido = apellido;
    }

    public String getNombre() {
        return this.nombre;
    }

    public void setNombre(String nombre) {
        this.nombre = nombre;
    }

    public String getApellido() {
        return this.apellido;
    }

    public void setApellido(String apellido) {
        this.apellido = apellido;
    }

    public int getPuntuacion() {
        return this.puntuacion;
    }

    public void setPuntuacion(int puntuacion) {
        this.puntuacion = puntuacion;
    }

}
```

Cuarto bad smell: Feature Envy
Soluci贸n: Move Method > Los m茅todos "incrementarPuntos" y "decrementarPuntos" ejecutan l贸gica que deber铆a estar asignada a jugador, por lo tanto tenemos responsabilidades mal asignadas.
Se deben mover estos m茅todos a la clase Jugador y en la clase Juego escribir unos nuevos que los invoquen seg煤n corresponda.
De esta manera la clase Juego es encargada de dar o quitar puntos, pero esta tarea debe pasar por el Jugador al que le corresponde.

```java
public class Juego {
    
    // ......
    
    public void incrementarPuntos(Jugador j) {
        j.incrementarPuntos();
    }

    public void decrementarPuntos(Jugador j) {
        j.decrementarPuntos();
    }
}

public class Jugador {

    private String nombre;
    private String apellido;
    private int puntuacion = 0;

    public Jugador(String nombre, String apellido) {
        this.nombre = nombre;
        this.apellido = apellido;
    }

    public String getNombre() {
        return this.nombre;
    }

    public void setNombre(String nombre) {
        this.nombre = nombre;
    }

    public String getApellido() {
        return this.apellido;
    }

    public void setApellido(String apellido) {
        this.apellido = apellido;
    }

    public int getPuntuacion() {
        return this.puntuacion;
    }

    public void setPuntuacion(int puntuacion) {
        this.puntuacion = puntuacion;
    }

    public void incrementarPuntos() {
        this.puntuacion += 100;
    }

    public void decrementarPuntos() {
        this.puntuacion -= 50;
    }

}
```

### <b>Consultas:</b>

1) 驴Cu谩l es la manera correcta de resolver este caso?

```java
    private String nombre;
    private String apellido;
    private int puntuacion = 0;

    public Jugador(String nombre, String apellido) {
        this.nombre = nombre;
        this.apellido = apellido;
    }
```

```java
    private String nombre;
    private String apellido;
    private int puntuacion;

    public Jugador(String nombre, String apellido) {
        this.nombre = nombre;
        this.apellido = apellido;
        this.puntuacion = 0;
    }
```

2) Previo al 4to bad smell, se considerar铆a a la clase Jugador como una Data Class debido a que no tiene funcionalidad? Si fuese as铆, 驴c贸mo ser铆a la manera correcta de almacenar usuarios obviando el tema puntuaci贸n?